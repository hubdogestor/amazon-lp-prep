import{r as e,a as t}from"./react-VIAh7PwP.js";import{i as s,m as a,t as r}from"./data-utils-z6mLKZ49.js";import{c as n}from"./data-core-47g2Yuh2.js";import{u as l,a as i}from"./hooks-CYPY_Xt7.js";import{s as o,g as c,a as d,n as p,i as u,b as x}from"./utils-BGdKeS8U.js";import{C as m,a as g,b as h,c as b,S as f}from"./icons-CDL5YB1a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var j={exports:{}},v={},N=e,y=Symbol.for("react.element"),w=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,k=N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,s){var a,r={},n=null,l=null;for(a in void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(l=t.ref),t)C.call(t,a)&&!T.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:y,type:e,key:n,ref:l,props:r,_owner:k.current}}v.Fragment=w,v.jsx=S,v.jsxs=S,j.exports=v;var $,E=j.exports,I=t;$=I.createRoot,I.hydrateRoot;const F=n;function P({text:e,searchTerm:t,className:s=""}){if(!t||!e)return E.jsx("span",{className:s,children:e});try{const a=String(e),r=t.trim().split(/\s+/).filter(e=>e.length>=3);if(0===r.length)return E.jsx("span",{className:s,children:e});const n=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=e=>e.replace(/[aáàâãä]/gi,"[aáàâãäAÁÀÂÃÄ]").replace(/[eéèêë]/gi,"[eéèêëEÉÈÊË]").replace(/[iíìîï]/gi,"[iíìîïIÍÌÎÏ]").replace(/[oóòôõö]/gi,"[oóòôõöOÓÒÔÕÖ]").replace(/[uúùûü]/gi,"[uúùûüUÚÙÛÜ]").replace(/[cç]/gi,"[cçCÇ]").replace(/[nñ]/gi,"[nñNÑ]"),i=r.map(e=>l(n(e))).join("|"),o=new RegExp(`(${i})`,"gi"),c=a.split(o);return 1===c.length?E.jsx("span",{className:s,children:e}):E.jsx("span",{className:s,children:c.map((e,t)=>r.some(t=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")===t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))?E.jsx("mark",{className:"bg-yellow-300 px-1 rounded font-semibold",children:e},t):E.jsx("span",{children:e},t))})}catch(a){return E.jsx("span",{className:s,children:e})}}const A=["inventar e simplificar","mentalidade de dono","mergulhar fundo","entregar resultados","ganhar a confianca","obsessao pelo cliente","aprender e ser curioso","insistir nos mais altos padroes","estar certo, e muito","ter iniciativa","pensar grande","ser firme, discordar e se comprometer","contratar e desenvolver os melhores","frugalidade","sucesso e crescimento trazem maior responsabilidade","empenhar-se para ser a melhor empregadora do mundo"],q={"inventar e simplificar":"Inventar e simplificar","mentalidade de dono":"Mentalidade de dono","mergulhar fundo":"Mergulhar fundo","entregar resultados":"Entregar resultados","ganhar a confianca":"Ganhar a confidência","obsessao pelo cliente":"Obsessão pelo cliente","aprender e ser curioso":"Aprender e ser curioso","insistir nos mais altos padroes":"Insistir nos mais altos padrões","estar certo, e muito":"Estar certo, e muito","ter iniciativa":"Ter iniciativa","pensar grande":"Pensar grande","ser firme, discordar e se comprometer":"Ser firme, discordar e se comprometer","contratar e desenvolver os melhores":"Contratar e desenvolver os melhores",frugalidade:"Frugalidade","sucesso e crescimento trazem maior responsabilidade":"Sucesso e crescimento trazem maior responsabilidade","empenhar-se para ser a melhor empregadora do mundo":"Empenhar-se para ser a melhor empregadora do mundo"},D={[A[0]]:"Invent and Simplify",[A[1]]:"Ownership",[A[2]]:"Dive Deep",[A[3]]:"Deliver Results",[A[4]]:"Earn Trust",[A[5]]:"Customer Obsession",[A[6]]:"Learn and Be Curious",[A[7]]:"Insist on the Highest Standards",[A[8]]:"Are Right, A Lot",[A[9]]:"Bias for Action",[A[10]]:"Think Big",[A[11]]:"Have Backbone; Disagree and Commit",[A[12]]:"Hire and Develop the Best",[A[13]]:"Frugality",[A[14]]:"Success and Scale Bring Broad Responsibility",[A[15]]:"Strive to be Earth's Best Employer"},R=A,M=A.map(e=>e),U=300;function O({narrative:t,language:s,onClose:a,isUsed:r=!1,onToggleUsed:n}){const l=e.useRef(null);if(e.useEffect(()=>{var e;null==(e=l.current)||e.focus()},[t]),!t||!t.version)return null;const{sectionTitle:i,sectionCategory:o,version:c}=t,d="pt"===s?"Contexto sugerido":"Suggested context",p="pt"===s?"Gancho":"Hook",u="pt"===s?"Fecho":"Mic Drop",x="pt"===s?"Temas":"Tags",h="pt"===s?"Fechar":"Close",b=r?"pt"===s?"Remover marca de narrativa usada":"Unmark icebreaker as used":"pt"===s?"Marcar narrativa como usada":"Mark icebreaker as used",f=r?"line-through decoration-slate-300 text-gray-500":"text-gray-700",j=r?"line-through decoration-slate-400 decoration-2 text-slate-600":"text-gray-700",v=`leading-relaxed whitespace-pre-line space-y-2 ${j}`,N=`text-xs ${j}`,y=r?"bg-gray-200 text-gray-500 line-through decoration-slate-400":"bg-gray-100 text-gray-600";return E.jsx("div",{ref:l,className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",onClick:e=>{e.stopPropagation(),a()},role:"dialog","aria-modal":"true","aria-label":i,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),a())},tabIndex:-1,children:E.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation(),children:[E.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-pink-500 px-6 py-5 text-white flex items-start justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs uppercase tracking-wide text-orange-100",children:o}),E.jsx("h3",{className:"text-2xl font-bold mt-1",children:i}),E.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[c.badge&&E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold text-white ${c.badgeColor}`,children:c.badge}),E.jsx("p",{className:"text-sm text-orange-100",children:c.title})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[n&&E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),n()},className:"inline-flex h-9 w-9 items-center justify-center rounded-full border shadow-sm transition "+(r?"border-green-300 bg-white/90 text-green-600":"border-white/60 bg-white/20 text-white/80 hover:bg-white/30"),title:b,"aria-label":b,"aria-pressed":r,children:r?E.jsx(m,{className:"w-5 h-5"}):E.jsx(g,{className:"w-5 h-5"})}),E.jsx("button",{type:"button",onClick:a,className:"text-white/80 hover:text-white text-2xl leading-none","aria-label":h,children:E.jsx("span",{"aria-hidden":"true",children:"×"})})]})]}),E.jsxs("div",{className:"px-6 py-6 space-y-5",children:[c.context&&E.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:[E.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-1",children:d}),E.jsx("p",{className:`text-sm ${f}`,children:c.context})]}),E.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm",children:E.jsx("div",{className:v,children:(w=c.content,w?w.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?E.jsx("strong",{className:"text-gray-900",children:e.slice(2,-2)},t):e):null)})}),(c.hook||c.mic_drop)&&E.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.hook&&E.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[E.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-700 mb-1",children:p}),E.jsx("p",{className:N,children:c.hook})]}),c.mic_drop&&E.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[E.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-700 mb-1",children:u}),E.jsx("p",{className:N,children:c.mic_drop})]})]}),c.tags&&c.tags.length>0&&E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-2",children:x}),E.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map(e=>E.jsxs("span",{className:`px-2 py-1 rounded text-xs ${y}`,children:["#",e]},e))})]})]})]})});var w}function L({language:t,onClose:a,usedIcebreakers:r={},onToggleUsed:n=()=>{}}){const[l,i]=e.useState(t),o=s[l],[c,d]=e.useState(null),[p,u]=e.useState(null),[x,h]=e.useState(""),b=x.trim().toLowerCase(),f=e.useRef(null);e.useEffect(()=>{var e;p||null==(e=null==f?void 0:f.current)||e.focus()},[p]),e.useEffect(()=>{var e;null==(e=null==f?void 0:f.current)||e.focus()},[]);const j=Object.keys(o).filter(e=>!["title","subtitle","questions"].includes(e)).map(e=>({id:e,data:o[e]})),v=e.useMemo(()=>{if(!b)return[];const e=[];return j.forEach(t=>{var s;((null==(s=t.data)?void 0:s.versions)||[]).forEach(s=>{var a,r,n,l;const i=s.content?s.content.replace(/\*\*[^*]+\*\*/g,""):"";if(![null==(a=t.data)?void 0:a.question,null==(r=t.data)?void 0:r.category,s.title,s.context,i,s.hook,s.mic_drop,Array.isArray(s.tags)?s.tags.join(" "):null].filter(Boolean).join(" ").toLowerCase().includes(b))return;let o=i||s.context||s.hook||s.mic_drop||s.title||"";let c=o.toLowerCase().indexOf(b);-1===c&&(o=(s.context||s.hook||s.mic_drop||s.title||"").toString(),c=o.toLowerCase().indexOf(b));const d=c<0?0:Math.max(0,c-40),p=c<0?Math.min(o.length,120):Math.min(o.length,c+b.length+60);let u=o.slice(d,p).trim();d>0&&(u=`.${u}`),p<o.length&&(u=`${u}.`),e.push({sectionId:t.id,sectionTitle:null==(n=t.data)?void 0:n.question,sectionCategory:null==(l=t.data)?void 0:l.category,version:s,snippet:u})})}),e.slice(0,12)},[b,j]),N=j.map(e=>{if(!b)return e;const t=(e.data.versions||[]).filter(t=>[e.data.question,e.data.category,t.title,t.context,t.content,t.hook,t.mic_drop,Array.isArray(t.tags)?t.tags.join(" "):null].filter(Boolean).join(" ").toLowerCase().includes(b));return t.length>0?{...e,data:{...e.data,versions:t}}:null}).filter(Boolean);e.useEffect(()=>{c&&!N.find(e=>e.id===c)&&d(null)},[c,N]);const y=e.useCallback(()=>{u(null),h(""),d(null),a()},[a]);return E.jsx("div",{ref:f,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":"icebreaker-title",onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),p?u(null):y())},tabIndex:-1,children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-[95vw] w-full max-h-[90vh] overflow-hidden mx-4",onClick:e=>e.stopPropagation(),children:[E.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{children:[E.jsxs("h2",{id:"icebreaker-title",className:"text-2xl font-bold text-white flex items-center gap-2",children:["?? ",o.title]}),E.jsx("p",{className:"text-orange-100 text-sm mt-1",children:o.subtitle})]}),E.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 md:flex-nowrap md:flex-1 md:justify-end",children:[E.jsxs("div",{className:"relative flex-1 basis-full md:basis-auto min-w-[260px] md:max-w-none",children:[E.jsx("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"pt"===l?"Filtrar narrativas...":"Filter narratives...",className:"bg-white/15 text-white/90 placeholder:text-white/60 w-full pl-4 pr-10 py-2 rounded-lg border border-white/20 focus:outline-none focus:ring-2 focus:ring-white/60 transition",onClick:e=>e.stopPropagation()}),E.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center text-white/70 pointer-events-none",children:"??"}),b&&v.length>0&&E.jsx("div",{className:"absolute z-50 mt-2 left-0 right-0 min-w-full md:min-w-[520px] lg:min-w-[680px] max-h-80 overflow-auto rounded-xl border border-white/40 bg-white/95 shadow-xl text-slate-700",children:v.map((e,t)=>{const s=`${l}-${e.sectionId}-${e.version.id}`,a=!!r[s],n=a?"line-through decoration-slate-400 decoration-2 text-slate-500":"text-slate-800",i=a?"line-through decoration-slate-300 text-slate-500":"text-slate-500";return E.jsxs("button",{type:"button",onClick:t=>{t.stopPropagation(),d(e.sectionId),u({sectionId:e.sectionId,sectionTitle:e.sectionTitle,sectionCategory:e.sectionCategory,version:e.version,narrativeId:s})},className:"w-full text-left px-4 py-3 border-b border-white/60 last:border-b-0 hover:bg-white transition "+(a?"bg-white/80":""),children:[E.jsx("p",{className:`text-sm mb-1 leading-snug ${n}`,children:E.jsx(P,{text:e.snippet,searchTerm:x,className:n})}),E.jsxs("p",{className:`text-xs ${i}`,children:[e.sectionTitle," - ",e.version.title]})]},`${e.sectionId}-${e.version.id}-${t}`)})})]}),E.jsxs("button",{onClick:()=>{i(e=>"pt"===e?"en":"pt")},className:"shrink-0 text-white hover:bg-orange-600 rounded-lg px-4 py-2 transition font-semibold flex items-center gap-2","aria-label":"Toggle language",children:["?? ","pt"===l?"EN":"PT"]}),E.jsx("button",{onClick:y,className:"shrink-0 text-white hover:bg-orange-600 rounded-lg px-3 py-2 transition text-xl","aria-label":"Close icebreaker modal",children:"?"})]})]}),E.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-100px)]",children:E.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[0===N.length&&E.jsx("div",{className:"col-span-1 md:col-span-2 border border-dashed border-orange-300 rounded-xl p-6 text-center text-orange-700 bg-orange-50/60",children:"pt"===l?"Nenhuma narrativa encontrada para esse filtro.":"No narratives match this filter."}),N.map(e=>{var t,s;const a=e.data,i=c===e.id;return E.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden hover:border-orange-300 transition-all",children:[E.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white px-5 py-4 cursor-pointer",onClick:()=>d(i?null:e.id),children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a.question}),E.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.category})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-semibold",children:[(null==(t=a.versions)?void 0:t.length)||0," verses"]}),E.jsx("span",{className:"text-2xl transition-transform "+(i?"rotate-180":""),children:""})]})]})}),i&&E.jsx("div",{className:"p-5 bg-white border-t border-gray-200",children:E.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:null==(s=a.versions)?void 0:s.map(t=>{const s="pt"===l?"Gancho":"Hook",i="pt"===l?"Fecho":"Mic Drop",o=`${l}-${e.id}-${t.id}`,c=!!r[o],d=c?"pt"===l?"Remover marca de narrativa usada":"Unmark icebreaker as used":"pt"===l?"Marcar narrativa como usada":"Mark icebreaker as used";return E.jsxs("div",{className:"relative",children:[E.jsx("button",{type:"button",onClick:()=>u({sectionId:e.id,sectionTitle:a.question,sectionCategory:a.category,version:t,narrativeId:o}),className:"w-full text-left border-2 border-gray-200 rounded-lg bg-white hover:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-400 transition-all "+(c?"opacity-80":""),title:"pt"===l?"Abrir narrativa completa":"Open full narrative",children:E.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[E.jsxs("div",{className:"flex items-start justify-between gap-3",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.badge&&E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold text-white ${t.badgeColor}`,children:t.badge}),E.jsx("h4",{className:"text-lg font-bold text-gray-900 "+(c?"line-through decoration-slate-500 text-slate-600":""),children:t.title})]}),t.context&&E.jsx("p",{className:"text-sm text-gray-600 italic "+(c?"line-through decoration-slate-400 text-gray-500":""),children:t.context})]}),E.jsx("span",{className:"text-xl text-orange-500 pr-8","aria-hidden":"true",children:"?"})]}),(t.hook||t.mic_drop)&&E.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[t.hook&&E.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[E.jsx("p",{className:"font-bold text-orange-700 text-xs mb-1",children:s}),E.jsx("p",{className:"text-gray-700 text-xs "+(c?"line-through decoration-slate-400 text-gray-600":""),children:t.hook})]}),t.mic_drop&&E.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[E.jsx("p",{className:"font-bold text-blue-700 text-xs mb-1",children:i}),E.jsx("p",{className:"text-gray-700 text-xs "+(c?"line-through decoration-slate-400 text-gray-600":""),children:t.mic_drop})]})]}),t.tags&&t.tags.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(e=>E.jsxs("span",{className:"px-2 py-1 rounded text-xs "+(c?"bg-gray-200 text-gray-500 line-through decoration-slate-400":"bg-gray-100 text-gray-600"),children:["#",e]},e))})]})}),E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),n(o)},className:"absolute top-3 right-3 inline-flex h-7 w-7 items-center justify-center rounded-full bg-white/90 text-slate-500 shadow-sm transition hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-orange-200",title:d,"aria-label":d,"aria-pressed":c,children:c?E.jsx(m,{className:"w-4 h-4"}):E.jsx(g,{className:"w-4 h-4"})})]},t.id)})})})]},e.id)})]})}),E.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end",children:E.jsx("button",{onClick:y,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition font-semibold",children:"pt"===l?"Fechar":"Close"})}),p&&E.jsx(O,{language:l,narrative:p,isUsed:!!r[p.narrativeId||`${l}-${p.sectionId}-${p.version.id}`],onToggleUsed:()=>{const e=p.narrativeId||`${l}-${p.sectionId}-${p.version.id}`;e&&n(e)},onClose:()=>u(null)})]})})}function _({language:t,onClose:s,usedQuestions:r={},onToggleQuestion:n=()=>{}}){const[l,i]=e.useState(t),o=a[l],[c,p]=e.useState({});return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:s,role:"dialog","aria-modal":"true","aria-labelledby":"myquestions-title",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-[95vw] w-full max-h-[90vh] overflow-hidden mx-4",onClick:e=>e.stopPropagation(),children:[E.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[E.jsxs("h2",{id:"myquestions-title",className:"text-2xl font-bold text-white flex items-center gap-2",children:["?? ",o.title]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{onClick:()=>{i(e=>"pt"===e?"en":"pt")},className:"text-white hover:bg-white/20 rounded-lg px-4 py-2 transition font-semibold flex items-center gap-2","aria-label":"Toggle language",children:["?? ","pt"===l?"EN":"PT"]}),E.jsx("button",{onClick:s,className:"text-white hover:bg-white/20 rounded-lg px-3 py-2 transition text-xl","aria-label":"Close my questions modal",children:"?"})]})]}),E.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-80px)]",children:E.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:o.categories.map((e,t)=>{const s=c[t];return E.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg border border-slate-200 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between px-5 py-4 cursor-pointer hover:bg-white/60 transition",onClick:()=>{return e=t,void p(t=>({...t,[e]:!t[e]}));var e},children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[E.jsx("span",{className:"text-2xl",children:e.icon}),E.jsx("span",{children:e.category}),E.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",e.questions.length," perguntas)"]})]}),E.jsx("span",{className:"text-sm text-purple-600 select-none",children:s?"pt"===l?"Fechar ?":"Close ?":"pt"===l?"Ver perguntas":"View questions"})]}),s&&E.jsx("div",{className:"px-5 pb-5 pt-2 bg-white/40",children:E.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.questions.map((t,s)=>{const a=`my-${d(e.category)}-${s}`,i=!!r[a],o=i?"pt"===l?"Remover marca de pergunta usada":"Unmark question as used":"pt"===l?"Marcar pergunta como usada":"Mark question as used";return E.jsxs("div",{className:"relative border-l-4 border-purple-400 pl-4 pr-2 py-3 rounded-lg bg-white/70 shadow-sm "+(i?"opacity-80":""),children:[E.jsx("button",{type:"button",onClick:()=>n(a),className:"absolute top-2 right-2 inline-flex h-8 w-8 items-center justify-center rounded-full border transition "+(i?"border-green-300 bg-green-50 text-green-600":"border-slate-200 bg-white text-slate-500 hover:bg-slate-100"),title:o,"aria-label":o,"aria-pressed":i,children:i?E.jsx(m,{className:"w-4 h-4"}):E.jsx(g,{className:"w-4 h-4"})}),E.jsx("div",{className:"font-semibold text-slate-800 pr-10 "+(i?"line-through decoration-slate-400":""),children:t.q}),E.jsxs("div",{className:"mt-1 text-sm italic text-slate-600 pr-8 "+(i?"line-through decoration-slate-300 text-slate-500":""),children:["?? ",t.note]})]},s)})})})]},t)})})}),E.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end",children:E.jsx("button",{onClick:s,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"pt"===l?"Fechar":"Close"})})]})})}const B="undefined"!=typeof window,z=e=>e&&"object"==typeof e?{...e}:{};function Q(t,s={}){const{initialValue:a={},storage:r}=s,n=e.useMemo(()=>void 0!==r?r:B?window.localStorage:null,[r]),[l,i]=e.useState(()=>((e,t,s)=>{if(!e)return z(s);try{const a=e.getItem(t);if(!a)return z(s);const r=JSON.parse(a);return r&&"object"==typeof r&&!Array.isArray(r)?r:z(s)}catch(a){return z(s)}})(n,t,a));e.useEffect(()=>{((e,t,s)=>{if(e)try{e.setItem(t,JSON.stringify(s))}catch(a){}})(n,t,l)},[l,n,t]);const o=e.useCallback(e=>{e&&i(t=>{const s={...t};return s[e]?delete s[e]:s[e]=!0,s})},[]),c=e.useCallback((e,t)=>{e&&i(s=>{const a={...s};return t?a[e]=!0:delete a[e],a})},[]),d=e.useCallback(()=>i(z(a)),[a]);return{value:l,setValue:i,toggle:o,setFlag:c,reset:d}}function H({caseData:e,principle:t,caseKey:s,caseDomId:a,caseSlug:r,caseSearchKey:n,isTop:l,isHighlighted:i,open:o,isCaseUsed:c,language:d,caseQuestions:p,questionsTooltip:u,highlightCaseTerm:x,highlightFupTerm:f,highlightedFupId:j,caseStarSearchOpen:v,caseStarSearchTerms:N,caseFupSearchOpen:y,caseFupSearchTerms:w,copiedCaseId:C,toggleCaseTooltip:k,texts:T,getDisplayCaseTitle:S,getCaseFups:$,filterCaseFups:I,starSectionMatchesTerm:F,onToggleCase:A,onToggleUsedCase:q,onCopyPrompt:D,onToggleCaseStarSearch:R,onUpdateCaseStarSearchTerm:M,onToggleCaseFupSearch:U,onUpdateCaseFupSearchTerm:O,searchTerm:L}){const _=c?"line-through decoration-slate-400 decoration-2 text-slate-500":"",B=c?"line-through decoration-slate-400 decoration-2 text-slate-500":"text-slate-800",z=c?"line-through decoration-slate-300 decoration-2 text-slate-500":"text-slate-600",Q=!!v[n],H=N[n]||"",V=!!y[n],G=w[n]||"",K=Boolean(L);return E.jsxs("article",{id:a,className:`bg-gradient-to-br rounded-xl p-0 mb-6 overflow-hidden transition-all duration-300 ${l?"from-orange-50 to-amber-50 border-4 border-[#FF9900] shadow-lg shadow-orange-200/50 hover:shadow-xl hover:shadow-orange-300/50":"from-blue-50 to-sky-50 border-2 border-blue-300 hover:shadow-lg hover:shadow-blue-200/50 hover:border-blue-400"} ${i?"ring-2 ring-amber-400":""} ${c?"opacity-80":""}`,title:u,children:[E.jsxs("header",{className:`flex items-center justify-between px-5 py-4 cursor-pointer ${o?"bg-white/80":"bg-white/60"} hover:bg-white/90 backdrop-blur-sm`,onClick:e=>{e.stopPropagation(),A(K)},role:"button",tabIndex:0,"aria-expanded":o,"aria-controls":`case-content-${s}`,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.currentTarget.click())},children:[E.jsxs("div",{className:"flex items-center gap-3",children:[l&&E.jsx("span",{className:"px-3 py-1 bg-[#FF9900] text-white text-[10px] font-bold rounded-full shadow-md animate-pulse",children:"? TOP CASE"}),!l&&e.isGoodCase&&E.jsx("span",{className:"px-2.5 py-0.5 bg-blue-500 text-white text-[10px] font-semibold rounded-full shadow-sm",children:"?? GOOD CASE"}),p.length>0&&E.jsxs("span",{className:"px-2.5 py-0.5 bg-purple-500 text-white text-[10px] font-semibold rounded-full shadow-sm cursor-help",title:u,children:["?? ",p.length," ","Q"]}),E.jsx("h3",{className:`text-lg font-bold ${l?"text-[#232F3E]":"text-slate-900"} ${c?"text-slate-500":""}`,children:E.jsx(P,{text:S(e,d),searchTerm:x,className:c?"line-through decoration-2 decoration-slate-500":""})})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),q()},className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border transition-all "+(c?"bg-green-50 border-green-300 text-green-700":"bg-white border-slate-300 text-slate-600 hover:bg-slate-50"),title:k,"aria-label":k,"aria-pressed":c,children:c?E.jsx(m,{className:"w-5 h-5"}):E.jsx(g,{className:"w-5 h-5"})}),o&&E.jsx("button",{onClick:e=>{e.stopPropagation(),D()},className:"flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg border transition-all "+(C===s?"bg-green-50 border-green-300 text-green-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"),title:"pt"===d?"Copiar prompt para IA":"Copy prompt for AI","aria-label":"pt"===d?"Gerar e copiar prompt":"Generate and copy prompt",children:C===s?E.jsxs(E.Fragment,{children:[E.jsx(h,{className:"w-4 h-4"}),E.jsx("span",{children:"pt"===d?"Copiado!":"Copied!"})]}):E.jsxs(E.Fragment,{children:[E.jsx(b,{className:"w-4 h-4"}),E.jsx("span",{children:"pt"===d?"Gerar Prompt":"Generate Prompt"})]})}),E.jsxs("span",{className:"text-sm text-amber-600 select-none",children:[o?T.close:T.viewDetails," ?"]})]})]}),o&&E.jsxs("div",{id:`case-content-${s}`,className:"px-6 pb-6 pt-2 grid grid-cols-1 lg:grid-cols-2 gap-8 text-slate-700 bg-white/40 backdrop-blur-sm",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("button",{onClick:()=>R(),className:"text-left flex items-center justify-between text-base font-semibold text-slate-800 border-b border-slate-200 pb-1 hover:text-blue-600 transition-colors group",children:[E.jsxs("span",{className:"flex items-center gap-2",children:["?? STAR Case",E.jsx("span",{className:"text-xs text-slate-500 group-hover:text-blue-500",children:Q?"?? (busca ativa)":"(clique para buscar)"})]}),E.jsx("span",{className:"text-slate-400 text-sm",children:Q?"?":"??"})]}),Q&&E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 animate-fadeIn",children:[E.jsx("input",{type:"text",placeholder:"Buscar em S.T.A.R.L deste case...",value:H,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autoFocus:!0}),(()=>{if(!H)return null;const t=F(e,d,H);return E.jsxs("div",{className:"mt-2",children:[E.jsxs("p",{className:"text-xs text-slate-600",children:["?? Buscando por: ",E.jsx("strong",{children:H})]}),t?E.jsx("p",{className:"text-xs text-green-600 font-medium mt-1 bg-green-50 px-2 py-1 rounded",children:"V Termo encontrado no STAR(L)"}):E.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1 bg-yellow-50 px-2 py-1 rounded",children:"?? Termo no encontrado"})]})})()]})]}),E.jsxs("div",{className:"space-y-3 leading-relaxed text-base",children:[E.jsxs("p",{children:[E.jsxs("strong",{children:[T.situation,":"]})," ",E.jsx(P,{text:e&&e[d]&&e[d].s||"",searchTerm:H||x,className:_})]}),E.jsxs("p",{children:[E.jsxs("strong",{children:[T.task,":"]})," ",E.jsx(P,{text:e&&e[d]&&e[d].t||"",searchTerm:H||x,className:_})]}),E.jsxs("p",{children:[E.jsxs("strong",{children:[T.action,":"]})," ",E.jsx(P,{text:e&&e[d]&&e[d].a||"",searchTerm:H||x,className:_})]}),E.jsxs("p",{children:[E.jsxs("strong",{children:[T.result,":"]})," ",E.jsx(P,{text:e&&e[d]&&e[d].r||"",searchTerm:H||x,className:_})]}),E.jsxs("p",{children:[E.jsxs("strong",{children:[T.learning,":"]})," ",E.jsx(P,{text:e&&e[d]&&e[d].l||"",searchTerm:H||x,className:_})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("button",{onClick:()=>U(),className:"text-left flex items-center justify-between text-base font-semibold text-slate-800 border-b border-slate-200 pb-1 hover:text-blue-600 transition-colors group",children:[E.jsxs("span",{className:"flex items-center gap-2",children:["? Follow-up Questions",E.jsx("span",{className:"text-xs text-slate-500 group-hover:text-blue-500",children:V?"?? (busca ativa)":"(clique para buscar)"})]}),E.jsx("span",{className:"text-slate-400 text-sm",children:V?"?":"??"})]}),V&&E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 animate-fadeIn",children:[E.jsx("input",{type:"text",placeholder:"Buscar nas 10 perguntas deste case...",value:G,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autoFocus:!0}),G&&E.jsxs("p",{className:"text-xs text-slate-600 mt-2",children:["?? Buscando por: ",E.jsx("strong",{children:G})]})]})]}),(()=>{const s=$(e),a=I(s,n,d),l=G.trim().length>0;return a.length>0?E.jsxs("div",{children:[l&&E.jsxs("p",{className:"text-xs text-green-600 font-medium mb-2 bg-green-50 px-2 py-1 rounded",children:["V ",a.length," de ",s.length," pergunta(s) encontrada(s)"]}),E.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:a.map((e,s)=>{const a=`fup-${t.id}-${r}-${s}`,n="en"===d&&e.q_en||e.q,l="en"===d&&e.a_en||e.a,i=j===a;return E.jsxs("li",{id:a,className:"flex flex-col gap-1 transition-all "+(i?"ring-2 ring-amber-300 rounded-md bg-amber-50 p-2":""),children:[E.jsx("div",{className:"font-medium "+(i?"bg-amber-100 px-2 py-1 rounded":""),children:E.jsx(P,{text:n,searchTerm:G||f,className:B})}),l&&E.jsx("div",{className:`${z} whitespace-pre-line`,children:E.jsx(P,{text:l,searchTerm:G||f,className:z})})]},`${r}-${s}`)})})]}):l?E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[E.jsxs("p",{className:"text-sm text-yellow-800",children:["?? Nenhuma pergunta encontrada com o termo: ",E.jsx("strong",{children:G})]}),E.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Tente outro termo ou limpe a busca."})]}):E.jsx("div",{className:"text-slate-500 italic",children:"Nenhuma pergunta disponevel."})})()]})]})]})}function V({results:e,language:t,onSelect:s,onToggleUsed:a,isCaseUsed:r,getDisplayCaseTitle:n,getDisplayName:l}){return e&&0!==e.length?e.map((e,i)=>{const{p:o,c:c,snippet:d,matches:p,searchWords:u}=e,x=c.id||c.slug||c.title,h=r(x),b=h?"pt"===t?"Remover marca de case usado":"Unmark case as used":"pt"===t?"Marcar case como usado":"Mark case as used";return E.jsx("div",{role:"option",tabIndex:0,className:"px-4 py-3 hover:bg-slate-50 cursor-pointer border-b border-slate-100 last:border-0 focus:bg-slate-100 focus:outline-none",onClick:()=>{const t=(u||[]).filter(e=>e.length>=3);s(e,t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.currentTarget.click())},children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-sm mb-1 text-slate-600",children:(()=>{const e=[...p||[]].sort((e,t)=>e.start-t.start),t=[];let s=0;return e.forEach((e,a)=>{e.start>s&&t.push(E.jsx("span",{className:"text-slate-600",children:d.substring(s,e.start)},`text-${a}`)),t.push(E.jsx("span",{className:"bg-amber-200 font-semibold",children:d.substring(e.start,e.start+e.length)},`match-${a}`)),s=e.start+e.length}),s<d.length&&t.push(E.jsx("span",{className:"text-slate-600",children:d.substring(s)},"text-end")),t})()}),E.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[E.jsx("span",{className:h?"line-through decoration-slate-400 decoration-2 text-slate-500":"font-medium text-slate-700",children:n(c,t)}),E.jsx("span",{className:"text-slate-400",children:" - "}),l(o,t)]})]}),E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),a(x)},className:"mt-1 inline-flex h-7 w-7 items-center justify-center rounded-full border text-slate-500 transition "+(h?"border-green-300 bg-green-50 text-green-600":"border-slate-200 bg-white hover:bg-slate-50"),title:b,"aria-label":b,"aria-pressed":h,children:h?E.jsx(m,{className:"w-4 h-4"}):E.jsx(g,{className:"w-4 h-4"})})]})},`case-result-${i}`)}):null}function G({results:e,language:t,searchTerm:s,onSelect:a,getDisplayName:r,getDisplayCaseTitle:n}){return e&&0!==e.length?e.map(({p:e,c:l,f:i,originalIdx:o},c)=>E.jsxs("div",{role:"option",tabIndex:0,className:"px-3 py-2 hover:bg-slate-50 cursor-pointer text-sm focus:bg-slate-100 focus:outline-none",onClick:()=>{const t=(s||"").trim().split(/\s+/).filter(e=>e.length>=3);a({principle:e,caseData:l,followUp:i,originalIdx:o},t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.currentTarget.click())},children:[E.jsx("div",{className:"font-medium text-slate-800",children:E.jsx(P,{text:"en"===t&&i.q_en||i.q,searchTerm:s})}),E.jsxs("div",{className:"text-slate-500",children:[r(e,t)," - ",n(l,t)]})]},`${e.id}-${l.id||l.title}-${o}-${c}`)):null}function K({results:e,language:t,searchTerm:s,onSelect:a,isQuestionUsed:r,onToggleQuestion:n,getDisplayName:l}){return e&&0!==e.length?e.map(({p:e,q:i,idx:o},c)=>{const d=`${e.id}-${o}`,p=r(d),u=p?"pt"===t?"Remover marca de pergunta usada":"Unmark question as used":"pt"===t?"Marcar pergunta como usada":"Mark question as used";return E.jsx("div",{role:"option",tabIndex:0,className:"px-3 py-2 hover:bg-slate-50 cursor-pointer text-sm focus:bg-slate-100 focus:outline-none",onClick:()=>{const t=(s||"").trim().split(/\s+/).filter(e=>e.length>=3);a({principle:e,question:i,idx:o},t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.currentTarget.click())},children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-medium text-slate-800",children:E.jsx(P,{text:i,searchTerm:s,className:p?"line-through decoration-slate-400 decoration-2 text-slate-500":""})}),E.jsx("div",{className:"text-slate-500",children:l(e,t)})]}),E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),n(d)},className:"mt-1 inline-flex h-7 w-7 items-center justify-center rounded-full border text-slate-500 transition "+(p?"border-green-300 bg-green-50 text-green-600":"border-slate-200 bg-white hover:bg-slate-50"),title:u,"aria-label":u,"aria-pressed":p,children:p?E.jsx(m,{className:"w-4 h-4"}):E.jsx(g,{className:"w-4 h-4"})})]})},`${e.id}-typical-${o}-${c}`)}):null}function W({t:t}){const[s,a]=e.useState(420),[r,n]=e.useState(!1);e.useEffect(()=>{let e;return r&&(e=setInterval(()=>a(e=>e-1),1e3)),()=>{e&&clearInterval(e)}},[r]);const l=s<0,i=Math.abs(s),o=Math.floor(i/60),c=i%60,d=`${l?"-":""}${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}`,p=s>0&&s<=60,u=s<=0;return E.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm px-4 py-3 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-slate-500",children:t.timer}),E.jsx("p",{className:"font-mono text-2xl tracking-wider "+(u?"text-rose-600":p?"text-amber-600":"text-slate-900"),children:d})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded-md border border-slate-300 hover:bg-slate-100",onClick:()=>n(e=>!e),children:r?"Pause":"Start"}),E.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded-md border border-slate-300 hover:bg-slate-100",onClick:()=>{a(420),n(!1)},children:"Reset"})]})]})}const J=(e,t)=>c(e,t,q,D),X=(e,t)=>o(e,t,R,M),Z="alp-used-cases",Y="alp-used-questions",ee="alp-used-icebreakers",te={pt:{kSearch:"CASES 🗂️",kFup:"FUP 🔎",kTypical:"PERGUNTAS ❓",viewDetails:"Ver detalhes",close:"Fechar",filterAll:"Todos os princípios",topCases:"Top Cases",icebreaker:"Icebreaker",myQuestions:"Minhas Perguntas",noResult:"Sem resultados",situation:"Situação",task:"Tarefa",action:"Ação",result:"Resultado",learning:"Aprendizado",timer:"Timer"},en:{kSearch:"CASES 🗂️",kFup:"FUP 🔎",kTypical:"PERGUNTAS ❓",viewDetails:"View details",close:"Close",filterAll:"All principles",topCases:"Top Cases",icebreaker:"Icebreaker",myQuestions:"My Questions",noResult:"No results",situation:"Situation",task:"Task",action:"Action",result:"Result",learning:"Learning",timer:"Timer"}};function se(){const[t,s]=e.useState("all"),[a,n]=e.useState({}),[o,c]=e.useState(""),[h,b]=e.useState(""),[j,v]=e.useState(""),[N,y]=e.useState(!1),[w,C]=e.useState(!1),[k,T]=e.useState(!1),[S,$]=e.useState("pt"),[I,A]=e.useState(!1),[q,D]=e.useState(null),R=l(o,U),M=l(h,U),O=l(j,U),{highlightedFupId:B,highlightedCaseId:z,highlightedTypicalQuestionId:se,clearHighlights:ae,setHighlightedFup:re,setHighlightedCase:ne,setHighlightedTypicalQuestion:le}=i(),[ie,oe]=e.useState(""),[ce,de]=e.useState(""),[pe,ue]=e.useState(""),[xe,me]=e.useState({}),[ge,he]=e.useState({}),[be,fe]=e.useState({}),[je,ve]=e.useState({}),{value:Ne,toggle:ye}=Q(Z),{value:we,toggle:Ce}=Q(Y),{value:ke,toggle:Te}=Q(ee),Se=e.useCallback((e,t,s,a)=>{_e(e,t,a),a&&ne(s,80)},[_e,ne]),$e=e.useCallback((e,t)=>{const{p:a,c:r}=e;s(a.id),y(!1),c(""),clearExpanded(),ae(),setTimeout(()=>{n({[r.id||r.title]:!0}),oe(t.join(" ")),de(""),ue("");const e=`case-${d(r.id||r.title)}`;ne(e,80)},0)},[clearExpanded,ae,n,oe,de,ue,ne,s,y,c]),Ee=e.useCallback((e,t)=>{const{principle:a,caseData:r,originalIdx:l}=e;s(a.id),y(!1),c(""),clearExpanded(),ae(),setTimeout(()=>{n({[r.id||r.title]:!0}),b(""),oe(""),de(t.join(" ")),ue("");const e=`fup-${a.id}-${d(r.id||r.title)}-${l}`;re(e,120)},0)},[clearExpanded,ae,n,oe,de,ue,re,b,c,s,y]),Ie=e.useCallback((e,t)=>{const{principle:a,idx:r}=e;s(a.id),y(!1),c(""),clearExpanded(),ae(),setTimeout(()=>{v(""),oe(""),de(""),ue(t.join(" "));const e=`typical-q-${a.id}-${r}`;le(e,120)},0)},[clearExpanded,ae,oe,de,ue,le,c,s,y,v]),Fe=te[S],Pe=e.useMemo(()=>{const e=F;return Array.isArray(e)?e.filter(e=>e&&e.id&&e.principle&&Array.isArray(e.cases)).map(e=>({...e,cases:e.cases.filter(e=>e&&e.id).map(e=>({...e,title:e.title||e.title_pt||"Untitled Case",company:e.company||"Unknown Company",period:e.period||"Unknown Period",isTopCase:Boolean(e.isTopCase),pt:e.pt||{},en:e.en||{},fups:Array.isArray(e.fups)?e.fups:[]}))})):[]},[Ae]);var Ae;const qe=e.useMemo(()=>X(Pe,S),[Pe,S]),{getCaseBaseTitle:De,getDisplayCaseTitle:Re,getBestCaseOption:Me,getCaseQuestions:Ue,casesByPrinciple:Oe}=useCaseHelpers(qe,S);e.useEffect(()=>{if(o||h){A(!0);const e=setTimeout(()=>A(!1),U);return()=>clearTimeout(e)}A(!1)},[o,h]);const Le=e.useMemo(()=>{let e=qe;if(R){const t=p(R);return e.map(e=>{const s=(e.cases||[]).filter(e=>{if("pt"===S){const s=p(De(e,"pt")).includes(t),a=e&&e.pt||{},r=p(Object.values(a).join(" ")).includes(t);return s||r}{const s=p(De(e,"en")).includes(t),a=e&&e.en||{},r=p(Object.values(a).join(" ")).includes(t);return s||r}});return s.length>0||p(e.name).includes(t)?{...e,cases:s.length?s:e.cases||[]}:null}).filter(Boolean)}return N?e.map(e=>({...e,cases:(e.cases||[]).filter(u)})).filter(e=>(e.cases||[]).length>0):"all"!==t?e.filter(e=>(null==e?void 0:e.id)===t):e},[qe,t,N,R,S,De]),_e=e.useCallback((e,t,a=!1)=>{a&&o&&oe(o),a?c(""):(c(""),oe("")),b(""),n(t=>{const s={};return s[e]=!t[e],s}),s(t)},[o]),Be=e.useCallback((e,t,s)=>{const a="pt"===s,r=e[s]||{},n=x(e);let l="";return a?(l=`# CONTEXTO DE ENTREVISTA - LEADERSHIP PRINCIPLES AMAZON\n\n## Princípio: ${J(t,s)}\n\n${t.principle?`**Descrição do Princípio:** ${t.principle.description}\n`:""}\n\n## Case: ${Re(e,s)}\n\n### STAR Framework:\n\n**Situação (Situation):**\n${r.s||""}\n\n**Tarefa (Task):**\n${r.t||""}\n\n**Ação (Action):**\n${r.a||""}\n\n**Resultado (Result):**\n${r.r||""}\n\n**Aprendizado (Learning):**\n${r.l||""}\n`,n.length>0&&(l+="\n### Follow-up Questions (FUPs):\n\n",n.forEach((e,t)=>{const s=e.q||"",a=e.a||"";l+=`**${t+1}. ${s}**\n`,l+=a?`${a}\n\n`:"\n"})),l+=`\n---\n\n**INSTRUÇÕES:**\nEstou em uma entrevista para a Amazon e acabei de compartilhar o case acima. Na próxima mensagem, vou enviar a pergunta que o entrevistador me fez. Por favor, me ajude a elaborar uma resposta natural, autêntica e que demonstre os Leadership Principles da Amazon, especialmente "${J(t,s)}".\n\nResponda como se você fosse eu, mantendo consistência com os detalhes do case compartilhado acima. Seja específico, use exemplos concretos e demonstre aprendizado.`):(l=`# INTERVIEW CONTEXT - AMAZON LEADERSHIP PRINCIPLES\n\n## Principle: ${J(t,s)}\n\n${t.principle?`**Principle Description:** ${t.principle.description_en||t.principle.description}\n`:""}\n\n## Case: ${Re(e,s)}\n\n### STAR Framework:\n\n**Situation:**\n${r.s||""}\n\n**Task:**\n${r.t||""}\n\n**Action:**\n${r.a||""}\n\n**Result:**\n${r.r||""}\n\n**Learning:**\n${r.l||""}\n`,n.length>0&&(l+="\n### Follow-up Questions (FUPs):\n\n",n.forEach((e,t)=>{const s=e.q_en||e.q||"",a=e.a_en||e.a||"";l+=`**${t+1}. ${s}**\n`,l+=a?`${a}\n\n`:"\n"})),l+=`\n---\n\n**INSTRUCTIONS:**\nI'm in an interview for Amazon and I've just shared the case above. In my next message, I'll send the question the interviewer asked me. Please help me craft a natural, authentic response that demonstrates Amazon's Leadership Principles, especially "${J(t,s)}".\n\nRespond as if you were me, maintaining consistency with the details from the case shared above. Be specific, use concrete examples, and demonstrate learning.`),l},[Re]),ze=e.useCallback(async(e,t,s)=>{const a=Be(e,t,S);try{await navigator.clipboard.writeText(a),D(s),setTimeout(()=>D(null),2e3)}catch(r){alert("Não foi possível copiar para a área de transferência.")}},[Be,S]),Qe=e.useCallback((e,t)=>{const a=Me(e,t);if(!a||!a.caseData)return;const r=a.caseData.id;n({[r]:!0}),s(e),setTimeout(()=>{const e=`case-${d(r)}`,t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),ne(e,2e3))},100)},[Me,ne]),He=e.useCallback(e=>{he(t=>({...t,[e]:!t[e]})),ge[e]&&me(t=>{const s={...t};return delete s[e],s})},[ge]),Ve=e.useCallback((e,t)=>{me(s=>({...s,[e]:t}))},[]),Ge=e.useCallback((e,t,s)=>{const a=xe[t];if(!a||""===a.trim())return e;const r=a.toLowerCase().trim();return e.filter(e=>{const t="en"===s&&e.q_en||e.q,a="en"===s&&e.a_en||e.a;return(null==t?void 0:t.toLowerCase().includes(r))||(null==a?void 0:a.toLowerCase().includes(r))})},[xe]),Ke=e.useCallback(e=>{ve(t=>({...t,[e]:!t[e]})),je[e]&&fe(t=>{const s={...t};return delete s[e],s})},[je]),We=e.useCallback((e,t)=>{fe(s=>({...s,[e]:t}))},[]),Je=e.useCallback((e,t,s)=>{var a,r,n,l,i;if(!s||!e||!e[t])return!0;const o=s.toLowerCase().trim(),c=e[t];return(null==(a=c.s)?void 0:a.toLowerCase().includes(o))||(null==(r=c.t)?void 0:r.toLowerCase().includes(o))||(null==(n=c.a)?void 0:n.toLowerCase().includes(o))||(null==(l=c.r)?void 0:l.toLowerCase().includes(o))||(null==(i=c.l)?void 0:i.toLowerCase().includes(o))},[]),Xe=e.useMemo(()=>{if(!M)return[];const e=M.trim().split(/\s+/).filter(e=>e.length>0).map(e=>p(e));return(qe||[]).flatMap(t=>(t.cases||[]).flatMap(s=>x(s).map((e,a)=>({p:t,c:s,f:e,originalIdx:a})).filter(({f:t})=>{const s="en"===S?t.q_en||t.q||"":t.q||"",a=p(s);return e.every(e=>a.includes(e))})))},[qe,M,S]),Ze=e.useMemo(()=>{if(!O)return[];const e=O.trim().split(/\s+/).filter(e=>e.length>0).map(e=>p(e));return(qe||[]).flatMap(t=>{const s=r[t.id];if(!s)return[];return("en"===S?s.en:s.pt).map((e,s)=>({p:t,q:e,idx:s})).filter(({q:t})=>{const s=p(t);return e.every(e=>s.includes(e))})})},[qe,O,S]),Ye=e.useMemo(()=>{if(!R||R.length<2)return[];const e=[],t=R.trim().split(/\s+/).filter(e=>e.length>0),s=t.map(e=>p(e));return(qe||[]).forEach(a=>{(a.cases||[]).forEach(r=>{const n="en"===S?r.en:r.pt;if(!n)return;["s","t","a","r","l"].forEach(l=>{const i=n[l]||"",o=p(i);if(!s.every(e=>o.includes(e)))return;const c=s.map(e=>({word:e,index:o.indexOf(e)})).filter(e=>-1!==e.index);if(0===c.length)return;const d=Math.min(...c.map(e=>e.index)),u=Math.max(0,d-80),x=Math.min(i.length,d+150);let m=i.substring(u,x);u>0&&(m="..."+m),x<i.length&&(m+="...");const g=u>0?3:0,h=c.map(e=>({start:e.index-u+g,length:e.word.length,word:e.word}));e.push({p:a,c:r,snippet:m,field:l,matches:h,searchWords:t})})})}),e},[qe,R,S]);return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[E.jsx("header",{id:"stickyHeader",className:"sticky top-0 z-30 border-b border-slate-200 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60",role:"banner",children:E.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-3",children:E.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center",children:[E.jsx("div",{className:"col-span-2",children:E.jsxs("div",{id:"kSearch",className:"relative",children:[E.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 z-10","aria-hidden":"true"}),E.jsx("input",{type:"search",placeholder:Fe.kSearch,value:o,onChange:e=>{c(e.target.value),e.target.value&&(y(!1),clearExpanded())},onFocus:()=>{b(""),v(""),oe(""),de(""),ue(""),ae()},className:"w-full pl-10 pr-4 py-3 text-base border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300 bg-white text-center","aria-label":Fe.kSearch,"aria-expanded":!!o&&Ye.length>0,"aria-controls":"case-dropdown"}),o&&Ye.length>0&&E.jsx("div",{id:"case-dropdown",role:"listbox",className:"absolute z-20 mt-2 left-0 right-0 min-w-[800px] bg-white shadow-lg border border-slate-200 rounded-lg max-h-96 overflow-auto",children:E.jsx(V,{results:Ye,language:S,onSelect:$e,onToggleUsed:e=>ye(e),isCaseUsed:e=>!!Ne[e],getDisplayCaseTitle:Re,getDisplayName:J,getCaseStorageId:e=>e.id||d(e.title||"")})})]})}),E.jsx("div",{className:"col-span-2",children:E.jsxs("div",{id:"kFup",className:"relative",children:[E.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 z-10","aria-hidden":"true"}),E.jsx("input",{type:"search",placeholder:Fe.kFup,value:h,onChange:e=>b(e.target.value),onFocus:()=>{c(""),v(""),oe(""),de(""),ue(""),ae()},className:"w-full pl-10 pr-3 py-3 text-base border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300 bg-white text-center","aria-label":Fe.kFup,"aria-expanded":!!h,"aria-controls":"fup-dropdown"}),h&&E.jsx("div",{id:"fup-dropdown",role:"listbox",className:"absolute z-20 mt-2 left-0 right-0 min-w-[800px] bg-white shadow-lg border border-slate-200 rounded-lg max-h-72 overflow-auto",children:Xe.length>0?E.jsx(G,{results:Xe,language:S,searchTerm:M,onSelect:Ee,getDisplayName:J,getDisplayCaseTitle:Re}):E.jsx("div",{className:"px-3 py-2 text-slate-500 text-sm",children:Fe.noResult})})]})}),E.jsx("div",{className:"col-span-2",children:E.jsxs("div",{id:"kTypical",className:"relative",children:[E.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 z-10","aria-hidden":"true"}),E.jsx("input",{type:"search",placeholder:Fe.kTypical,value:j,onChange:e=>v(e.target.value),onFocus:()=>{c(""),b(""),oe(""),de(""),ue(""),ae()},className:"w-full pl-10 pr-3 py-3 text-base border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300 bg-white text-center","aria-label":Fe.kTypical,"aria-expanded":!!j,"aria-controls":"typical-dropdown"}),j&&E.jsx("div",{id:"typical-dropdown",role:"listbox",className:"absolute z-20 mt-2 left-0 right-0 min-w-[800px] bg-white shadow-lg border border-slate-200 rounded-lg max-h-72 overflow-auto",children:Ze.length>0?E.jsx(K,{results:Ze,language:S,searchTerm:O,onSelect:Ie,isQuestionUsed:e=>!!we[e],onToggleQuestion:Ce,getDisplayName:J}):E.jsx("div",{className:"px-3 py-2 text-slate-500 text-sm",children:Fe.noResult})})]})}),E.jsx("div",{className:"col-span-1",children:E.jsxs("button",{id:"topCasesBtn",className:"w-full px-3 py-3 text-base rounded-lg border transition "+(N?"bg-yellow-100 border-yellow-300 text-yellow-800":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),onClick:e=>{e.stopPropagation(),clearExpanded(),ae(),c(""),s("all"),y(e=>!e)},"aria-label":(N?"Hide":"Show")+" top cases","aria-pressed":N,title:"Mostrar apenas Top Cases",children:["🎯 ",Fe.topCases]})}),E.jsx("div",{className:"col-span-1",children:E.jsxs("button",{id:"icebreakerBtn",className:"w-full px-3 py-3 text-base rounded-lg border transition bg-white border-slate-200 text-slate-700 hover:bg-slate-50",onClick:e=>{e.stopPropagation(),C(!0)},"aria-label":"Open Icebreaker questions",title:"Perguntas iniciais de rapport",children:["💬 ",Fe.icebreaker]})}),E.jsx("div",{className:"col-span-1",children:E.jsxs("button",{id:"myQuestionsBtn",className:"w-full px-3 py-3 text-base rounded-lg border transition bg-white border-slate-200 text-slate-700 hover:bg-slate-50",onClick:e=>{e.stopPropagation(),T(!0)},"aria-label":"Open my questions for interviewer",title:"Perguntas para fazer ao entrevistador",children:["🤔 ",Fe.myQuestions]})}),E.jsx("div",{className:"col-span-2",children:E.jsx(W,{t:Fe})}),E.jsx("div",{className:"col-span-1",children:E.jsxs("div",{id:"langBox",className:"w-full flex gap-2",role:"group","aria-label":"Language selection",children:[E.jsx("button",{className:"flex-1 px-3 py-3 text-base rounded-lg border "+("pt"===S?"bg-slate-900 text-white":"bg-white text-slate-700"),onClick:e=>{e.stopPropagation(),$("pt")},"aria-label":"Portuguese","aria-pressed":"pt"===S,children:"PT"}),E.jsx("button",{className:"flex-1 px-3 py-3 text-base rounded-lg border "+("en"===S?"bg-slate-900 text-white":"bg-white text-slate-700"),onClick:e=>{e.stopPropagation(),$("en")},"aria-label":"English","aria-pressed":"en"===S,children:"EN"})]})})]})})}),w&&E.jsx(L,{language:S,onClose:()=>C(!1),usedIcebreakers:ke,onToggleUsed:Te}),k&&E.jsx(_,{language:S,onClose:()=>T(!1),usedQuestions:we,onToggleQuestion:Ce}),E.jsx("div",{className:"max-w-[2400px] mx-auto px-8 pt-6",children:E.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[E.jsxs("aside",{id:"sidebar",className:"col-span-12 xl:col-span-2",role:"navigation","aria-label":"Principles filter",children:[E.jsx("div",{className:"mb-3 pb-2 border-b-2 border-[#FF9900]",children:E.jsx("h2",{className:"text-sm font-bold text-[#232F3E] uppercase tracking-wider",children:"Leadership Principles"})}),E.jsxs("button",{className:"w-full mb-4 px-3 py-2.5 rounded text-base text-left font-bold uppercase tracking-wide transition-all flex items-center gap-2 "+("all"===t?"bg-[#232F3E] text-white shadow-lg":"bg-slate-100 text-[#232F3E] hover:bg-slate-200"),onClick:e=>{e.stopPropagation(),s("all"),y(!1),c(""),b(""),v(""),oe(""),de(""),ue(""),ae(),clearExpanded()},"aria-pressed":"all"===t,children:[E.jsx("span",{className:"text-lg",children:"🏠"}),Fe.filterAll]}),(qe||[]).map(e=>E.jsx("button",{className:"w-full mb-2 px-4 py-2.5 rounded-md text-sm text-left font-medium transition-all shadow-sm "+(t===e.id?"bg-[#FF9900] text-white shadow-md scale-[1.02]":"bg-gradient-to-r from-white to-slate-50 border border-slate-200 text-[#232F3E] hover:border-[#FF9900] hover:shadow-md hover:scale-[1.01]"),onClick:t=>{t.stopPropagation(),s(e.id),y(!1),c(""),b(""),v(""),oe(""),de(""),ue(""),ae(),clearExpanded()},"aria-pressed":t===e.id,children:J(e,S)},`side-${e.id}`))]}),E.jsxs("main",{className:"col-span-12 xl:col-span-10 space-y-6",role:"main",children:[I&&E.jsx("div",{className:"text-center py-4 text-slate-500",role:"status","aria-live":"polite",children:"Buscando..."}),(Le||[]).map(e=>E.jsxs("section",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-200",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold mb-3 text-slate-900",children:J(e,S)}),e.principle&&E.jsx("p",{className:"text-slate-600 italic leading-relaxed",children:"en"===S&&e.principle.description_en||e.principle.description}),r[e.id]&&E.jsxs("div",{className:"mt-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg p-4 shadow-sm",children:[E.jsxs("h3",{className:"text-sm font-bold text-[#232F3E] mb-3 uppercase tracking-wide flex items-center gap-2",children:["💭 ","pt"===S?"Perguntas Típicas do Entrevistador":"Typical Interviewer Questions",E.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["(","pt"===S?"Clique para ver o case que responde":"Click to see the case that answers",")"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:("en"===S?r[e.id].en:r[e.id].pt).map((t,s)=>{const a=`typical-q-${e.id}-${s}`,r=`${e.id}-${s}`,n=!!we[r],l=se===a,i=Me(e.id,s),o=Boolean(i),c=(null==i?void 0:i.score)??0,d=(null==i?void 0:i.caseData)?Re(i.caseData,S):"",p=(()=>{if(!o)return"pt"===S?"Sem case mapeado":"No case mapped";const e="pt"===S?"Clique para ver o case":"Click to see case";return d?`${e} (${d} - score: ${c})`:`${e} (score: ${c})`})(),u=n?"pt"===S?"Remover marca de pergunta usada":"Unmark question as used":"pt"===S?"Marcar pergunta como usada":"Mark question as used";return E.jsxs("div",{className:"relative",children:[E.jsx("button",{id:a,onClick:()=>{o&&Qe(e.id,s)},disabled:!o,className:`w-full px-3 py-2 border rounded text-xs transition-all duration-300 flex items-center justify-center text-center min-h-[60px] ${o?"bg-white/80 border-blue-200 text-[#232F3E] hover:bg-blue-50 hover:shadow-md hover:scale-105 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"} ${l?"bg-yellow-200 font-bold shadow-md ring-2 ring-yellow-400":""} ${n?"opacity-80":""}`,title:p,children:E.jsxs("span",{className:"flex items-center gap-1",children:[o&&E.jsx("span",{className:"text-green-600 font-bold",children:"V"}),E.jsx(P,{text:t,searchTerm:pe,className:n?"line-through decoration-slate-400 decoration-2 text-slate-500":""})]})}),E.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),Ce(r)},className:"absolute -top-2 -right-2 inline-flex h-7 w-7 items-center justify-center rounded-full border text-slate-500 shadow-sm transition "+(n?"border-green-300 bg-green-50 text-green-600":"border-slate-200 bg-white hover:bg-slate-50"),title:u,"aria-label":u,"aria-pressed":n,children:n?E.jsx(m,{className:"w-4 h-4"}):E.jsx(g,{className:"w-4 h-4"})})]},s)})})]})]}),(e&&e.cases||[]).map((t,s)=>{const r=`${e.id}-${s}`,n=t.id||t.title,l=d(n),i=`case-${l}`,c=t.id||l,p=!!a[n],m=z===i,g=u(t),h=t.id||l,b=!!Ne[h],f=Ue(t.id,e.id),j="pt"===S?"Responde":"Answers",v="pt"===S?"pergunta(s)":"question(s)",N=f.map(e=>`Q${e.number}`).join(", "),y=f.slice(0,3).map(e=>{const t=(e.text||"").substring(0,80),s=null!=e.score?` (score: ${e.score})`:"";return`Q${e.number}${s}: ${t}...`}).join("\n"),w=f.length>0?`${j} ${f.length} ${v}: ${N}\n\n${y}`:"pt"===S?"Nenhuma pergunta mapeada":"No questions mapped",C=b?"pt"===S?"Remover marca de case usado":"Unmark case as used":"pt"===S?"Marcar case como usado":"Mark case as used";return E.jsx(H,{caseData:t,principle:e,caseKey:r,caseDomId:i,caseSlug:l,caseSearchKey:c,isTop:g,isHighlighted:m,open:p,isCaseUsed:b,language:S,caseQuestions:f,questionsTooltip:w,highlightCaseTerm:ie,highlightFupTerm:ce,highlightedFupId:B,caseStarSearchOpen:je,caseStarSearchTerms:be,caseFupSearchOpen:ge,caseFupSearchTerms:xe,copiedCaseId:q,toggleCaseTooltip:C,texts:Fe,getDisplayCaseTitle:Re,getCaseFups:x,filterCaseFups:Ge,starSectionMatchesTerm:Je,onToggleCase:t=>Se(n,e.id,i,t),onToggleUsedCase:()=>ye(h),onCopyPrompt:()=>ze(t,e,r),onToggleCaseStarSearch:()=>Ke(c),onUpdateCaseStarSearchTerm:e=>We(c,e),onToggleCaseFupSearch:()=>He(c),onUpdateCaseFupSearchTerm:e=>Ve(c,e),searchTerm:o})})]},e.id))]})]})})]})}$(document.getElementById("root")).render(E.jsx(e.StrictMode,{children:E.jsx(se,{})}));
