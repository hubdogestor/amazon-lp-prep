import{u as e,j as t}from"./index-DUoOejvQ.js";import{r as s}from"./react-VIAh7PwP.js";import{m as a}from"./data-utils-P2Ocme3_.js";import{s as l}from"./utils-4AxJaYow.js";import{C as r,a as i}from"./icons-_3dDKlQ4.js";import"./data-core-qUGV2W61.js";import"./hooks-CiGDHzib.js";function o({language:o,onClose:n,usedQuestions:d={},onToggleQuestion:c=()=>{}}){const{t:m}=e(),[x,p]=s.useState(o),u=a[x],[g,h]=s.useState({});s.useEffect(()=>{const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"myquestions-title",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-[95vw] w-full max-h-[90vh] overflow-hidden mx-4",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h2",{id:"myquestions-title",className:"text-2xl font-bold text-white flex items-center gap-2",children:["🧠 ",u.title]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>{p(e=>"pt"===e?"en":"pt")},className:"text-white hover:bg-white/20 rounded-lg px-4 py-2 transition font-semibold flex items-center gap-2","aria-label":"Toggle language",children:["🌐 ",m("languageToggle")]}),t.jsx("button",{onClick:n,className:"text-white hover:bg-white/20 rounded-lg px-3 py-2 transition text-xl","aria-label":"Close my questions modal",children:"×"})]})]}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-80px)]",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:u.categories.map((e,s)=>{const a=g[s];return t.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg border border-slate-200 overflow-hidden",children:[t.jsxs("button",{type:"button",className:"w-full text-left flex items-center justify-between px-5 py-4 cursor-pointer hover:bg-white/60 transition",onClick:()=>{return e=s,void h(t=>({...t,[e]:!t[e]}));var e},"aria-expanded":a,"aria-controls":`category-content-${s}`,children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:e.icon}),t.jsx("span",{children:e.category}),t.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",e.questions.length," perguntas)"]})]}),t.jsx("span",{className:"text-sm text-purple-600 select-none",children:m(a?"closeCategory":"viewQuestions")})]}),a&&t.jsx("div",{id:`category-content-${s}`,className:"px-5 pb-5 pt-2 bg-white/40",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.questions.map((s,a)=>{const o=`my-${l(e.category)}-${a}`,n=!!d[o],x=m(n?"unmarkUsedQuestion":"markUsedQuestion");return t.jsxs("div",{className:"relative border-l-4 border-purple-400 pl-4 pr-2 py-3 rounded-lg bg-white/70 shadow-sm "+(n?"opacity-80":""),children:[t.jsx("button",{type:"button",onClick:()=>c(o),className:"absolute top-2 right-2 inline-flex h-8 w-8 items-center justify-center rounded-full border transition "+(n?"border-green-300 bg-green-50 text-green-600":"border-slate-200 bg-white text-slate-500 hover:bg-slate-100"),title:x,"aria-label":x,"aria-pressed":n,children:n?t.jsx(r,{className:"w-4 h-4"}):t.jsx(i,{className:"w-4 h-4"})}),t.jsx("div",{className:"font-semibold text-slate-800 pr-10 "+(n?"line-through decoration-slate-400":""),children:s.q}),t.jsxs("div",{className:"mt-1 text-sm italic text-slate-600 pr-8 "+(n?"line-through decoration-slate-300 text-slate-500":""),children:["💡 ",s.note]})]},a)})})})]},s)})})}),t.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end",children:t.jsx("button",{onClick:n,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:m("close")})})]})})}export{o as default};
