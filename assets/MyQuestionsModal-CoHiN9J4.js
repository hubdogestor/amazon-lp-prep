import{u as e,j as t}from"./index-BTcARLHM.js";import{r as s}from"./react-BHgi2j_W.js";import{m as r}from"./data-utils-P2Ocme3_.js";import{s as a}from"./utils-4AxJaYow.js";import{C as l,a as o}from"./icons-C-9ByRqq.js";import"./data-core-qUGV2W61.js";import"./hooks-Rqn6gpe6.js";function i({language:i,onClose:n,usedQuestions:d={},onToggleQuestion:c=()=>{}}){const{t:x}=e(),[m,g]=s.useState(i),p=r[m],[u,h]=s.useState({});s.useEffect(()=>{const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"myquestions-title",children:t.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl shadow-2xl max-w-[95vw] w-full max-h-[90vh] overflow-hidden mx-4",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h2",{id:"myquestions-title",className:"text-2xl font-bold text-white flex items-center gap-2",children:["🧠 ",p.title]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>{g(e=>"pt"===e?"en":"pt")},className:"text-white hover:bg-white/20 dark:hover:bg-white/10 rounded-lg px-4 py-2 transition font-semibold flex items-center gap-2","aria-label":"Toggle language",children:["🌐 ",x("languageToggle")]}),t.jsx("button",{onClick:n,className:"text-white hover:bg-white/20 dark:hover:bg-white/10 rounded-lg px-3 py-2 transition text-xl","aria-label":"Close my questions modal",children:"×"})]})]}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-80px)]",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:p.categories.map((e,s)=>{const r=u[s];return t.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 overflow-hidden",children:[t.jsxs("button",{type:"button",className:"w-full text-left flex items-center justify-between px-5 py-4 cursor-pointer hover:bg-white/60 dark:hover:bg-slate-600/60 transition",onClick:()=>{return e=s,void h(t=>({...t,[e]:!t[e]}));var e},"aria-expanded":r,"aria-controls":`category-content-${s}`,children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-dark-text-primary flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:e.icon}),t.jsx("span",{children:e.category}),t.jsxs("span",{className:"text-sm font-normal text-slate-500 dark:text-dark-text-secondary",children:["(",e.questions.length," perguntas)"]})]}),t.jsx("span",{className:"text-sm text-purple-600 dark:text-purple-400 select-none",children:x(r?"closeCategory":"viewQuestions")})]}),r&&t.jsx("div",{id:`category-content-${s}`,className:"px-5 pb-5 pt-2 bg-white/40 dark:bg-slate-800/40",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.questions.map((s,r)=>{const i=`my-${a(e.category)}-${r}`,n=!!d[i],m=x(n?"unmarkUsedQuestion":"markUsedQuestion");return t.jsxs("div",{className:"relative border-l-4 border-purple-400 pl-4 pr-2 py-3 rounded-lg bg-white/70 dark:bg-slate-800/70 shadow-sm "+(n?"opacity-80":""),children:[t.jsx("button",{type:"button",onClick:()=>c(i),className:"absolute top-2 right-2 inline-flex h-8 w-8 items-center justify-center rounded-full border transition "+(n?"border-green-300 bg-green-50 text-green-600 dark:border-green-600 dark:bg-green-900 dark:text-green-400":"border-slate-200 bg-white text-slate-500 hover:bg-slate-100 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-400 dark:hover:bg-slate-600"),title:m,"aria-label":m,"aria-pressed":n,children:n?t.jsx(l,{className:"w-4 h-4"}):t.jsx(o,{className:"w-4 h-4"})}),t.jsx("div",{className:"font-semibold text-slate-800 dark:text-dark-text-primary pr-10 "+(n?"line-through decoration-slate-400":""),children:s.q}),t.jsxs("div",{className:"mt-1 text-sm italic text-slate-600 dark:text-dark-text-secondary pr-8 "+(n?"line-through decoration-slate-300 text-slate-500":""),children:["💡 ",s.note]})]},r)})})})]},s)})})}),t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex justify-end",children:t.jsx("button",{onClick:n,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:x("close")})})]})})}export{i as default};
